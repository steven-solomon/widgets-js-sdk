/**
* CrowdTwist Widgets SDK for JavaScript
* v0.0.1
* 2014-05-06
**/!function(a){"function"==typeof define?define(a):"function"==typeof YUI?YUI.add("es5",a):a()}(function(){function a(){}function b(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}function c(a){var b=typeof a;return null===a||"undefined"===b||"boolean"===b||"number"===b||"string"===b}function d(a){var b,d,e;if(c(a))return a;if(d=a.valueOf,"function"==typeof d&&(b=d.call(a),c(b)))return b;if(e=a.toString,"function"==typeof e&&(b=e.call(a),c(b)))return b;throw new TypeError}8!==parseInt("08")&&(parseInt=function(a){var b=/^0[xX]/;return function(c,d){return c=String(c).trim(),+d||(d=b.test(c)?16:10),a(c,d)}}(parseInt)),Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var d=m.call(arguments,1),e=function(){if(this instanceof i){var a=c.apply(this,d.concat(m.call(arguments)));return Object(a)===a?a:this}return c.apply(b,d.concat(m.call(arguments)))},f=Math.max(0,c.length-d.length),g=[],h=0;f>h;h++)g.push("$"+h);var i=Function("binder","return function("+g.join(",")+"){return binder.apply(this,arguments)}")(e);return c.prototype&&(a.prototype=c.prototype,i.prototype=new a,a.prototype=null),i});var e,f,g,h,i,j=Function.prototype.call,k=Array.prototype,l=Object.prototype,m=k.slice,n=j.bind(l.toString),o=j.bind(l.hasOwnProperty);if((i=o(l,"__defineGetter__"))&&(e=j.bind(l.__defineGetter__),f=j.bind(l.__defineSetter__),g=j.bind(l.__lookupGetter__),h=j.bind(l.__lookupSetter__)),2!=[1,2].splice(0).length){var p=Array.prototype.splice,q=Array.prototype.push,r=Array.prototype.unshift;Array.prototype.splice=function(){function a(a){for(var b=[];a--;)b.unshift(a);return b}var b,c=[];return c.splice.bind(c,0,0).apply(null,a(20)),c.splice.bind(c,0,0).apply(null,a(26)),b=c.length,c.splice(5,0,"XXX"),b+1==c.length?!0:void 0}()?function(a,b){return arguments.length?p.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(m.call(arguments,2))):[]}:function(a,b){var c,d=m.call(arguments,2),e=d.length;if(!arguments.length)return[];if(void 0===a&&(a=0),void 0===b&&(b=this.length-a),e>0){if(0>=b){if(a==this.length)return q.apply(this,d),[];if(0==a)return r.apply(this,d),[]}return c=m.call(this,a,a+b),d.push.apply(d,m.call(this,a+b,this.length)),d.unshift.apply(d,m.call(this,0,a)),d.unshift(0,this.length),p.apply(this,d),c}return p.call(this,a,b)}}if(1!=[].unshift(0)){var r=Array.prototype.unshift;Array.prototype.unshift=function(){return r.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(a){return"[object Array]"==n(a)});var s=Object("a"),t="a"!=s[0]||!(0 in s),u=!0;if(Array.prototype.forEach&&Array.prototype.forEach.call("foo",function(a,b,c){"object"!=typeof c&&(u=!1)}),Array.prototype.forEach&&u||(Array.prototype.forEach=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if("[object Function]"!=n(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}),Array.prototype.map||(Array.prototype.map=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0,e=Array(d),f=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var g=0;d>g;g++)g in c&&(e[g]=a.call(f,c[g],g,b));return e}),Array.prototype.filter||(Array.prototype.filter=function(a){var b,c=I(this),d=t&&"[object String]"==n(this)?this.split(""):c,e=d.length>>>0,f=[],g=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var h=0;e>h;h++)h in d&&(b=d[h],a.call(g,b,h,c)&&f.push(b));return f}),Array.prototype.every||(Array.prototype.every=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&!a.call(e,c[f],f,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&a.call(e,c[f],f,b))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e,f=0;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f++];break}if(++f>=d)throw new TypeError("reduce of empty array with no initial value")}for(;d>f;f++)f in c&&(e=a.call(void 0,e,c[f],f,b));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,f=d-1;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f--];break}if(--f<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>f)return e;do f in this&&(e=a.call(void 0,e,c[f],f,b));while(f--);return e}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var c=t&&"[object String]"==n(this)?this.split(""):I(this),d=c.length>>>0;if(!d)return-1;var e=0;for(arguments.length>1&&(e=b(arguments[1])),e=e>=0?e:Math.max(0,d+e);d>e;e++)if(e in c&&c[e]===a)return e;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var c=t&&"[object String]"==n(this)?this.split(""):I(this),d=c.length>>>0;if(!d)return-1;var e=d-1;for(arguments.length>1&&(e=Math.min(e,b(arguments[1]))),e=e>=0?e:d-Math.abs(e);e>=0;e--)if(e in c&&a===c[e])return e;return-1}),!Object.keys){var v=!0,w=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],x=w.length;for(var y in{toString:null})v=!1;Object.keys=function J(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var J=[];for(var b in a)o(a,b)&&J.push(b);if(v)for(var c=0,d=x;d>c;c++){var e=w[c];o(a,e)&&J.push(e)}return J}}var z=-621987552e5,A="-000001";Date.prototype.toISOString&&-1!==new Date(z).toISOString().indexOf(A)||(Date.prototype.toISOString=function(){var a,b,c,d,e;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(d=this.getUTCFullYear(),e=this.getUTCMonth(),d+=Math.floor(e/12),e=(e%12+12)%12,a=[e+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],d=(0>d?"-":d>9999?"+":"")+("00000"+Math.abs(d)).slice(d>=0&&9999>=d?-4:-6),b=a.length;b--;)c=a[b],10>c&&(a[b]="0"+c);return d+"-"+a.slice(0,2).join("-")+"T"+a.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var B=!1;try{B=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(z).toJSON().indexOf(A)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(C){}B||(Date.prototype.toJSON=function(){var a,b=Object(this),c=d(b);if("number"==typeof c&&!isFinite(c))return null;if(a=b.toISOString,"function"!=typeof a)throw new TypeError("toISOString property is not callable");return a.call(b)}),Date=function(a){function b(c,d,e,f,g,h,i){var j=arguments.length;if(this instanceof a){var k=1==j&&String(c)===c?new a(b.parse(c)):j>=7?new a(c,d,e,f,g,h,i):j>=6?new a(c,d,e,f,g,h):j>=5?new a(c,d,e,f,g):j>=4?new a(c,d,e,f):j>=3?new a(c,d,e):j>=2?new a(c,d):j>=1?new a(c):new a;return k.constructor=b,k}return a.apply(this,arguments)}function c(a,b){var c=b>1?1:0;return f[b]+Math.floor((a-1969+c)/4)-Math.floor((a-1901+c)/100)+Math.floor((a-1601+c)/400)+365*(a-1970)}function d(b){return Number(new a(1970,0,1,0,0,0,b))}var e=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),f=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var g in a)b[g]=a[g];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(b){var f=e.exec(b);if(f){var g,h=Number(f[1]),i=Number(f[2]||1)-1,j=Number(f[3]||1)-1,k=Number(f[4]||0),l=Number(f[5]||0),m=Number(f[6]||0),n=Math.floor(1e3*Number(f[7]||0)),o=Boolean(f[4]&&!f[8]),p="-"===f[9]?1:-1,q=Number(f[10]||0),r=Number(f[11]||0);return(l>0||m>0||n>0?24:25)>k&&60>l&&60>m&&1e3>n&&i>-1&&12>i&&24>q&&60>r&&j>-1&&j<c(h,i+1)-c(h,i)&&(g=60*(24*(c(h,i)+j)+k+q*p),g=1e3*(60*(g+l+r*p)+m)+n,o&&(g=d(g)),g>=-864e13&&864e13>=g)?g:0/0}return a.parse.apply(this,arguments)},b}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function a(a,b){for(var c=-1;++c<g;)b+=a*h[c],h[c]=b%f,b=Math.floor(b/f)}function b(a){for(var b=g,c=0;--b>=0;)c+=h[b],h[b]=Math.floor(c/a),c=c%a*f}function c(){for(var a=g,b="";--a>=0;)if(""!==b||0===a||0!==h[a]){var c=String(h[a]);""===b?b=c:b+="0000000".slice(0,7-c.length)+c}return b}function d(a,b,c){return 0===b?c:b%2===1?d(a,b-1,c*a):d(a*a,b/2,c)}function e(a){for(var b=0;a>=4096;)b+=12,a/=4096;for(;a>=2;)b+=1,a/=2;return b}var f,g,h;f=1e7,g=6,h=[0,0,0,0,0,0],Number.prototype.toFixed=function(f){var g,h,i,j,k,l,m,n;if(g=Number(f),g=g!==g?0:Math.floor(g),0>g||g>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(h=Number(this),h!==h)return"NaN";if(-1e21>=h||h>=1e21)return String(h);if(i="",0>h&&(i="-",h=-h),j="0",h>1e-21)if(k=e(h*d(2,69,1))-69,l=0>k?h*d(2,-k,1):h/d(2,k,1),l*=4503599627370496,k=52-k,k>0){for(a(0,l),m=g;m>=7;)a(1e7,0),m-=7;for(a(d(10,m,1),0),m=k-1;m>=23;)b(1<<23),m-=23;b(1<<m),a(1,1),b(2),j=c()}else a(0,l),a(1<<-k,0),j=c()+"0.00000000000000000000".slice(2,2+g);return g>0?(n=j.length,j=g>=n?i+"0.0000000000000000000".slice(0,g-n+2)+j:i+j.slice(0,n-g)+"."+j.slice(n-g)):j=i+j,j}}();var D=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a=void 0===/()??/.exec("")[1];String.prototype.split=function(b,c){var d=this;if(void 0===b&&0===c)return[];if("[object RegExp]"!==Object.prototype.toString.call(b))return D.apply(this,arguments);var e,f,g,h,i=[],j=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),k=0,b=new RegExp(b.source,j+"g");for(d+="",a||(e=new RegExp("^"+b.source+"$(?!\\s)",j)),c=void 0===c?-1>>>0:c>>>0;(f=b.exec(d))&&(g=f.index+f[0].length,!(g>k&&(i.push(d.slice(k,f.index)),!a&&f.length>1&&f[0].replace(e,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(f[a]=void 0)}),f.length>1&&f.index<d.length&&Array.prototype.push.apply(i,f.slice(1)),h=f[0].length,k=g,i.length>=c)));)b.lastIndex===f.index&&b.lastIndex++;return k===d.length?(h||!b.test(""))&&i.push(""):i.push(d.slice(k)),i.length>c?i.slice(0,c):i}}():"0".split(void 0,0).length&&(String.prototype.split=function(a,b){return void 0===a&&0===b?[]:D.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var E=String.prototype.substr;String.prototype.substr=function(a,b){return E.call(this,0>a&&(a=this.length+a)<0?0:a,b)}}var F="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||F.trim()){F="["+F+"]";var G=new RegExp("^"+F+F+"*"),H=new RegExp(F+F+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(G,"").replace(H,"")}}var I=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}}),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};null!=(null!=(a=window.CT)?a.version:void 0)?console.log("CrowdTwist Widgets SDK already loaded! This is potentially problematic."):window.CT={version:"0.0.1"},function(a){var b,c,d;return null==a?(console.log("Error: Could not find global CT namespace!"),0):(b=!!window.CT_DEBUG,d="(widgets)",c="function"==typeof console.time,a.console={log:function(){var a;return b?(a=Array.prototype.slice.apply(arguments),c?(a.unshift("color: #bc43a7; font-weight: bold;"),a.unshift("%c"+d),console.log.apply(console,a)):console.log(a.join(" "))):void 0},group:function(a){return b?(a=d+" "+a,"function"==typeof console.group?console.group(a):console.log(a)):void 0},groupEnd:function(){return"function"==typeof console.groupEnd?console.groupEnd():void 0},time:function(a){return b&&"function"==typeof console.time?console.time(d+" "+a):void 0},timeEnd:function(a){return b&&"function"==typeof console.timeEnd?console.timeEnd(d+" "+a):void 0}})}(window.CT),function(a){var b;return null==a?(console.log("Error: Could not find global CT namespace!"),0):(b=function(a,b){var c,d,e,f,g,h;switch(g=-1,h=a.length,c=b[0],d=b[1],e=b[2],b.length){case 0:for(;++g<h;)(f=a[g]).callback.call(null);break;case 1:for(;++g<h;)(f=a[g]).callback.call(null,c);break;case 2:for(;++g<h;)(f=a[g]).callback.call(null,c,d);break;case 3:for(;++g<h;)(f=a[g]).callback.call(null,c,d,e);break;default:for(;++g<h;)(f=a[g]).callback.apply(null,b)}},a.Event={addEventListener:function(a,b,c){return"function"==typeof a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c){return"function"==typeof a.removeEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c)},ready:function(a){return"function"==typeof document.addEventListener?document.addEventListener("DOMContentLoaded",a):document.attachEvent("onreadystatechange",function(){return"complete"===document.readyState?a():void 0})},trigger:function(c){var d,e;return null==this._events?this:(d=Array.prototype.slice.call(arguments,1),e=this._events[c],e&&(b(e,d),a.console.log("triggered event '"+c+"' with arguments:",d)),this)},subscribe:function(a,b){var c,d;return null==b?this:(null==this._events&&(this._events={}),c=null!=(d=this._events)[a]?d[a]:d[a]=[],c.push({callback:b}),this)},unsubscribe:function(a,b){var c,d,e,f,g,h,i,j;if(null==a&&null==b)return this._events=null,this;for(e=a?[a]:[function(){var b;b=[];for(a in this._events)b.push(a);return b}.call(this)],g=0,i=e.length;i>g;g++)if(a=e[g],d=this._events[a]){if(this._events[a]=f=[],null!=b)for(h=0,j=d.length;j>h;h++)c=d[h],b!==c.callback&&f.push(c);f.length||delete this._events[a]}return this}})}(window.CT),function(a){var c;return null==a?(console.log("Error: Could not find global CT namespace!"),0):(c=function(){function c(c){var d;this.src=c.src,d=c.id,this._onMessage=b(this._onMessage,this),this.id=parseInt(d,10),"/"!==this.src.charAt(this.src.length-1)&&(this.src+="/"),this.origin=this.src.match(a.Widget._originRegex)[0],this.el=document.createElement("iframe"),this.el.setAttribute("frameborder",0),this.el.setAttribute("scrolling","no"),this.el.setAttribute("data-widget-id",this.id),this.el.setAttribute("src",this.src),this.el.style.width="100%",a.Event.addEventListener(window,"message",this._onMessage)}return c.prototype._onMessage=function(b){var c,d;if(!a.Widget.hasOrigin(b.origin))return void a.console.log("[Widget "+this.id+"] Received event from unregistered origin, dropping:",b);if(d=JSON.parse(b.data),this.id===parseInt(d.widgetId,10))switch(d.eventName){case"resize":c=d.eventData.height,null!=c?this.setHeight(c):a.console.log("[Widget "+this.id+"] Received 'resize' event with no 'height'",d)}return this.sendMessage(d)},c.prototype._removeListeners=function(){return a.Event.removeEventListener(window,"message",this._onMessage)},c.prototype.setHeight=function(b){return b=parseInt(b,10),this.el.style.height=b+"px",this.el.parentNode===a.Modal._modal.el?a.Modal.setHeight(b):void 0},c.prototype.sendMessage=function(a){return"string"!=typeof a&&(a=JSON.stringify(a)),this.el.contentWindow.postMessage(a,"*")},c}(),a.Widget={_widgets:[],_originRegex:/((http(s)?:)?\/\/[^\/?&]+)/,addWidget:function(a){var b,d,e;return b=a.id,d=a.src,e=new c({id:b,src:d}),this._widgets.push(e),e},removeWidget:function(a){var b;return a._removeListeners(),b=this._widgets.indexOf(a),b>-1?this._widgets.splice(b,1):void 0},replaceTagWithWidget:function(b){var c,d,e;return c=parseInt(b.getAttribute("data-widget-id"),10),d=b.getAttribute("data-src"),null!=this.getWidgetByWidgetId(c)?(a.console.group("Error"),a.console.log("Widget tags with widget id",c,"already exist!"),a.console.log("Will not convert the following widget tag:",b),void a.console.groupEnd()):(e=this.addWidget({id:c,src:d}),b.parentNode.replaceChild(e.el,b),a.console.log("Replaced tag",b,"with widget",e))},hasOrigin:function(a){var b,c,d,e,f;for(b=!1,f=this._widgets,d=0,e=f.length;e>d;d++)c=f[d],-1!==a.indexOf(c.origin)&&(b=!0);return b},getWidgetByWidgetId:function(a){var b,c,d,e;for(a=parseInt(a,10),e=this._widgets,c=0,d=e.length;d>c;c++)if(b=e[c],b.id===a)return b}})}(window.CT),function(a){var b;return null==a?(console.log("Error: Could not find global CT namespace!"),0):(b=function(){function b(){this.el=document.createElement("div"),this.el.setAttribute("id","ct-modal"),this.closeButton=document.createElement("button"),a.Event.addEventListener(this.closeButton,"click",function(a){return function(){return a.hide()}}(this)),this.background=document.createElement("div"),this._initStyles(),this.el.appendChild(this.closeButton)}return b.prototype.containerStyle={display:"none",zIndex:"100000",margin:"auto",width:"90%",position:"fixed",top:"0",right:"0",bottom:"0",left:"0",boxShadow:"0px 19px 33px -11px rgba(0, 0, 0, 0.75)"},b.prototype.closeButtonStyle={"float":"right",background:"none",border:"none",color:"#ffffff",fontSize:"20px",outline:"none",cursor:"pointer"},b.prototype.backgroundStyle={display:"none",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1000",backgroundColor:"#000000",opacity:"0.7",filter:"alpha(opacity=70)"},b.prototype.show=function(b){var c,d;return c=b.id,d=b.src,null!=this.widget&&(this.el.removeChild(this.widget.el),a.Widget.removeWidget(this.widget)),this.widget=a.Widget.addWidget({id:c,src:d}),this.el.appendChild(this.widget.el),this.el.style.display="",this.background.style.display="",this},b.prototype.hide=function(){return this.el.style.display="none",this.background.style.display="none",this},b.prototype.setWidth=function(a){return a=parseInt(a,10),this.el.style.width=a+"px"},b.prototype.setHeight=function(a){return a=parseInt(a,10),this.el.style.height=a+"px"},b.prototype._initStyles=function(){var a,b,c,d,e,f;this.el.setAttribute("id","ct-modal"),c=this.containerStyle;for(a in c)b=c[a],this.el.style[a]=b;this.closeButton.innerHTML="&#10005;",d=this.closeButtonStyle;for(a in d)b=d[a],this.closeButton.style[a]=b;this.background.setAttribute("id","ct-modal-background"),e=this.backgroundStyle,f=[];for(a in e)b=e[a],f.push(this.background.style[a]=b);return f},b}(),a.Modal={initModalContainer:function(){return null!=document.getElementById("ct-modal")?void a.console.log("Modal container #ct-modal already exists!"):(this._modal=new b,document.body.insertBefore(this._modal.background,document.body.firstChild),document.body.insertBefore(this._modal.el,document.body.firstChild))},setWidth:function(a){return a=parseInt(a,10),this._modal.setWidth(a)},setHeight:function(a){return a=parseInt(a,10),this._modal.setHeight(a)},show:function(b){var c,d,e;return c=b.id,d=b.src,e=b.width,null==this._modal?void a.console.log("Modal not initialized!"):(this._modal.show({id:c,src:d}),null!=e?this.setWidth(e):void 0)},hide:function(){return null==this._modal?void a.console.log("Modal not initialized!"):this._modal.hide()}})}(window.CT),CT.Event.addEventListener(window,"message",function(a){var b,c,d,e,f,g;if(!CT.Widget.hasOrigin(a.origin))return void CT.console.log("[Dispatch] Received event from unregistered origin, dropping:",a);switch(b=JSON.parse(a.data),CT.Event.trigger(b.eventName,b),b.eventName){case"modal":return g=b.eventData,e=g.widgetId,c=g.src,f=g.width,null!=e&&null!=c?CT.Modal.show({id:e,src:c,width:f}):CT.console.log("[Dispatch] Received 'modal' event with no 'widgetId' and/or 'src' eventData properties",b);case"navigate":return d=b.eventData.url,null!=d?window.open(d,"_blank"):CT.console.log("[Dispatch] Received 'navigate' event with no 'url'",b);case"loginSuccess":return CT.Modal.hide();default:return CT.console.log("[Dispatch] Received event '"+b.eventName+"', doing nothing",b)}}),CT.console.group("Bootstrap"),CT.console.time("Bootstrapped in"),CT.console.time("DOM loaded"),CT.Event.ready(function(){var a,b,c,d;for(CT.console.timeEnd("DOM loaded"),CT.console.log("Initializing modal container"),CT.Modal.initModalContainer(),b=document.querySelectorAll("[class=ct-widget]"),CT.console.log("Found",b.length,"widget tag(s)"),CT.console.group("Tag replacement"),c=0,d=b.length;d>c;c++)a=b[c],CT.Widget.replaceTagWithWidget(a);return CT.console.groupEnd(),CT.console.groupEnd(),CT.console.timeEnd("Bootstrapped in")})}.call(this);